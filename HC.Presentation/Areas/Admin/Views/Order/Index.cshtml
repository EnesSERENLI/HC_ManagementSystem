@model List<OrderVM>
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
    decimal? grandTotal = 0;
}

<div class="row">
    <div class="col-lg-12">
        <section class="panel">
            <header class="panel-heading">
                Orders
            </header>
            <div class="alert-error text-success">
                @if (TempData["message"] != null)
                {
                    <div class="alert alert-success alert-block fade in">
                        <button data-dismiss="alert" class="close close-sm" type="button">
                            <i class="icon-remove"></i>
                        </button>
                        <h4>
                            <i class="icon-ok-sign"></i>
                            Success!
                        </h4>
                        <p>@TempData["message"]</p>
                    </div>
                }
            </div>
            <table class="table table-striped table-advance table-hover">
                <thead>
                    <tr>
                        <th class="hidden-phone"><i class="icon-star-empty"></i></th>
                        <th><i class="icon-bullhorn"></i> ProductName</th>
                        <th class="hidden-phone"><i class="icon-star-empty"></i> EmployeeName</th>
                        <th class="hidden-phone"><i class="icon-star-empty"></i> UserName</th>
                        <th class="hidden-phone"><i class="icon-star-empty"></i> UnitPrice</th>
                        <th class="hidden-phone"><i class="icon-star-empty"></i> Quantity</th>
                        <th class="hidden-phone"><i class="icon-star-empty"></i> SubTotal</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var order in Model)
                    {
                        grandTotal += order.SubTotal;
                        <tr>
                            <td class="hidden-phone">@order.OrderID</td>
                            <td class="hidden-phone">@order.ProductName</td>
                            <td class="hidden-phone">@order.EmployeeName</td>
                            <td class="hidden-phone">@order.UserName</td>
                            <td class="hidden-phone">@order.UnitPrice <i class="icon-usd"></i></td>
                            <td class="hidden-phone">@order.Quantity</td>
                            <td class="hidden-phone">@order.SubTotal <i class="icon-usd"></i></td>
                        </tr>
                    }
                </tbody>
            </table>
            <label style="padding:20px; margin-left:1380px;"><span class="panel-heading"><strong>GrandTotal: @grandTotal <i class="icon-usd"></i></strong></span></label>
        </section>
    </div>
</div>

